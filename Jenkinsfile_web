pipeline {
    agent any
    stages { 
        stage('build') {
            steps {
                echo "Building"
            }
        }

        stage('deploy_staging') {
            steps {
                echo "Deploying to staging"
            }
            post {
                success {
                    sh "./send_notification.sh 'staging deployment' 0"
                }
                failure {
                    sh "./send_notification.sh 'staging deployment' 1"
                }  
            }
        }
        stage('test_staging') {
            steps {
                echo "Testing on staging"
            }
            post {
                success {
                    sh "./send_notification.sh 'staging testing' 0"
                }
                failure {
                    sh "./send_notification.sh 'staging testing' 1"
                }  
            }
        }
        stage('deploy_production') {
            steps {
                echo "Deploying to production"
            }
            post {
                success {
                    sh "./send_notification.sh 'production deployment' 0"
                }
                failure {
                    sh "./send_notification.sh 'production deployment' 1"
                }  
            }
        }
        stage('test_production') {
            steps {
                echo "Testing on production"
            }
            post {
                success {
                    sh "./send_notification.sh 'production testing' 0"
                }
                failure {
                    sh "./send_notification.sh 'production testing' 1"
                }  
            }
        }
    }
}

    